---
import Layout from '~/layouts/PageLayout.astro';
import Hero from '~/components/widgets/Hero.astro';
import { pressReleaseTypes, pressReleaseCategories } from '~/data/pressReleases';
import Spacer from '~/components/widgets/Spacer.astro';
import FilterContainer from '~/components/filters/FilterContainer.astro';
import PressReleasesList from '~/components/widgets/list/PressReleasesList.astro';

const metadata = {
  title: 'Press Releases',
  description: 'Browse through our press releases and media coverage',
};

// Sort types and categories alphabetically
const sortedTypes = [...pressReleaseTypes].sort();
const sortedCategories = [...pressReleaseCategories].filter((category) => category !== '').sort();
---

<Layout metadata={metadata}>
  <Hero
    tagline="Press Releases"
    title="Research Impact"
    subtitle="Stay informed about our groundbreaking findings in child health research, media coverage, and the real-world impact of our longitudinal studies on physical activity, cardiovascular health, and metabolic health in children"
  />

  <FilterContainer
    options={[sortedTypes, sortedCategories]}
    allLabels={['All Types', 'All Categories']}
    showSearch={true}
    targetId="press-releases-list"
    classes={{
      container: 'py-0 lg:py-0 md:py-0 mb-8',
    }}
  />

  <div id="press-releases-list">
    <PressReleasesList />
  </div>

  <Spacer />
</Layout>
