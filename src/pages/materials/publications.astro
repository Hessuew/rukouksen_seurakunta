---
import FilterContainer from '~/components/filters/FilterContainer.astro';
import Hero from '~/components/widgets/Hero.astro';
import PublicationsList from '~/components/widgets/list/PublicationsList.astro';
import SubscribeForm from '~/components/widgets/subscribe/SubscribeForm.astro';
import { publicationCategories, publicationTypes } from '~/data/publications';
import Layout from '~/layouts/PageLayout.astro';

const metadata = {
  title: 'Publications',
  description: 'Browse through our research publications and academic contributions',
};

// Sort types and categories alphabetically
const sortedTypes = [...publicationTypes].sort();
const sortedCategories = [...publicationCategories].filter((category) => category !== '');
---

<Layout metadata={metadata}>
  <Hero
    tagline="Publications"
    title="Scientific Output"
    subtitle="Explore our peer-reviewed publications, research papers, and academic contributions advancing the understanding of child health through comprehensive longitudinal studies and evidence-based research."
  />

  <SubscribeForm />

  <FilterContainer
    options={[sortedTypes, sortedCategories]}
    allLabels={['All Types', 'All Categories']}
    showSearch={true}
    targetId="publications-list"
    classes={{
      container: 'py-0 lg:py-0 md:py-0',
    }}
  />

  <div id="publications-list">
    <PublicationsList />
  </div>
</Layout>
