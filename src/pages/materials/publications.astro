---
import Layout from '~/layouts/PageLayout.astro';
import Hero from '~/components/widgets/Hero.astro';
import { publicationTypes, publicationCategories } from '~/data/publications';
import Spacer from '~/components/widgets/Spacer.astro';
import FilterContainer from '~/components/filters/FilterContainer.astro';
import PublicationsList from '~/components/widgets/list/PublicationsList.astro';

const metadata = {
  title: 'Publications',
  description: 'Browse through our research publications and academic contributions',
};

// Sort types and categories alphabetically
const sortedTypes = [...publicationTypes].sort();
const sortedCategories = [...publicationCategories].filter((category) => category !== '').sort();
---

<Layout metadata={metadata}>
  <Hero title="Publications" subtitle="Browse through our research publications and academic contributions" />

  <FilterContainer
    options={[sortedTypes, sortedCategories]}
    allLabels={['All Types', 'All Categories']}
    showSearch={true}
    targetId="publications-list"
    classes={{
      container: 'py-0 lg:py-0 md:py-0 mb-8',
    }}
  />

  <div id="publications-list">
    <PublicationsList />
  </div>

  <Spacer />
</Layout>
