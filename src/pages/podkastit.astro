---
import logo from '~/assets/images/other/logo.webp';
import FilterContainer from '~/components/filters/FilterContainer.astro';
import GradientText from '~/components/ui/GradientText.astro';
import Hero from '~/components/widgets/Hero.astro';
import VideosAndPodcastsList from '~/components/widgets/list/VideosAndPodcastsList.astro';
import Spacer from '~/components/widgets/Spacer.astro';
import { subjects } from '~/data/videosAndPodcasts';
import { getLangFromUrl, useTranslations } from '~/i18n/utils';
import Layout from '~/layouts/PageLayout.astro';

const metadata = {
  title: 'Rukouksen seurakunta | Seurakunnan podkastit',
  description:
    'Rukouksen seurakunta on Kuopiossa kokoontuva ryhmä, joka keskittyy Jeesukseen, intohimoiseen rukoukseen, Hengen ja Sanan täyttämään elämään, sekä herätyksen levittämiseen. Tule mukaan rukouskokouksiin ja kohtaa Jeesus. Savilahti, Kuopio.',
  ignoreTitleTemplate: true,
  canonical: 'https://rukouksenseurakunta.fi',
  openGraph: {
    title: 'Rukouksen seurakunta | Seurakunnan podkastit',
    description:
      'Rukouksen seurakunta on Kuopiossa kokoontuva ryhmä, joka keskittyy Jeesukseen, intohimoiseen rukoukseen, Hengen ja Sanan täyttämään elämään, sekä herätyksen levittämiseen. Tule mukaan rukouskokouksiin ja kohtaa Jeesus.',
    type: 'website',
    image: logo,
    article: {
      publishedTime: '2025-03-03T05:03:23+02:00',
      modifiedTime: '2025-03-03T05:03:23+02:00',
      authors: ['Rukouksen seurakunta'],
      tags: [
        'Rukouksen seurakunta',
        'Rukouksen seurakunta Kuopio',
        'Savilahti',
        'Kuopio',
        'Savilahden seurakunta',
        'Kuopio seurakunta',
      ],
    },
  },
  twitter: {
    handle: '@RukouksenSrk',
    site: '@RukouksenSrk',
    cardType: 'summary_large_image',
  },
};

const styleStyle = {
  backgroundPosition: 'center',
  backgroundAttachment: 'local',
  backgroundRepeat: 'repeat',
  backgroundSize: '100% 100%',
};

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout metadata={metadata}>
  <Hero tagline={t('podcasts')} subtitle={t('podcastSubtitle')}>
    <Fragment slot="title">
      <GradientText imageNro={2} backgroundStyles={styleStyle}>
        {t('podcastsFrom')}
      </GradientText>
    </Fragment>
  </Hero>

  <FilterContainer
    options={[subjects]}
    allLabels={[t('allSubjects')]}
    showSearch={true}
    targetId="videos-and-podcasts-list"
    classes={{
      container: 'py-0 lg:py-0 md:py-0 mb-8',
    }}
  />

  <div id="videos-and-podcasts-list">
    <VideosAndPodcastsList />
  </div>

  <Spacer size="sm" />
</Layout>
